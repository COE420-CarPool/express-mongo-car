<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>AUS Car Sharing!</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Roboto:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/icofont/icofont.min.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="assets/vendor/owl.carousel/assets/owl.carousel.min.css" rel="stylesheet">
  <link href="assets/vendor/venobox/venobox.css" rel="stylesheet">
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet">

  <!-- =======================================================
  * Template Name: BizLand - v1.1.1
  * Template URL: https://bootstrapmade.com/bizland-bootstrap-business-template/
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
</head>



<body>

    <!-- ======= Top Bar ======= -->
  <div id="topbar" class="d-none d-lg-flex align-items-center fixed-top">
    <div class="container d-flex">
      
      <div class="social-links">
        <a href="#" class="twitter"><i class="icofont-twitter"></i></a>
        <a href="#" class="facebook"><i class="icofont-facebook"></i></a>
        <a href="#" class="instagram"><i class="icofont-instagram"></i></a>
        <a href="#" class="skype"><i class="icofont-skype"></i></a>
        <a href="#" class="linkedin"><i class="icofont-linkedin"></i></i></a>
      </div>
    </div>
  </div>

  <!-- ======= Header ======= -->
  <header id="header" class="fixed-top">
    <div class="container d-flex align-items-center">

      <h1 class="logo mr-auto"><a href="index.html">AUS Car Share<span>.</span></a></h1>
      <!-- Uncomment below if you prefer to use an image logo -->
      <!-- <a href="index.html" class="logo mr-auto"><img src="assets/img/logo.png" alt=""></a>-->

      <nav class="nav-menu d-none d-lg-block">
        <ul>
          <li class="active"><a href="index.html">Home</a></li>
          <li><a href="login.html">Login</a></li>
          
         
        
         

        </ul>
      </nav><!-- .nav-menu -->
      

    </div>
  </header><!-- End Header -->

  <!-- ======= Hero Section ======= -->
  <section id="hero" class="d-flex align-items-center">
    <div class="container" data-aos="zoom-out" data-aos-delay="100">
      <h1>Welcome,  <span>register now!</span>
      </h1>
      <h2>Find rides now on the AUS campus or find other riders to redeem your score for vouchers.</h2>
     <!--- <div class="d-flex">
        <a href="#about" class="btn-get-started scrollto">How It Works</a>
        
      </div> -->
    </div>
  </section><!-- End Hero -->



<main id="main">
    <section id="featured-services" class="featured-services">
        <div class="container" data-aos="fade-up">
          <div class="container" id="loggyDriv">
              <h1>Register!</h1>
    <form id="form-group" class="form-horizontal " data-aos="zoom-out" data-aos-delay="100"  style="padding:20px 40px; border-radius: 50px;">
        <div class="form-group ">
            <label class="control-label col-sm-2" for="email">Email:</label>
            <div class="col-sm-10">
                <input type="email" autocomplete="on" id="email" pattern="^[bg0-9]+@aus\.edu" title="Use an AUS student email! " name="email" placeholder="Use an AUS email" required />
            </div>
          </div>
          <div class="form-group ">
            <label class="control-label col-sm-2" for="name">Full Name:</label>
            <div class="col-sm-10">
                <input type="text" id="name" name="name" placeholder="Enter your name" required/>
            </div>
          </div>
          <div class="form-group ">
            <label class="control-label col-sm-2" for="userType">I am a:</label>
            <div class="col-sm-10">
                <select id="userType" name="userType">
                <option value="rider">Rider</option>
                <option value="driver">Driver</option>
                </select>
            </div>
          </div>
          <div class="form-group ">
            <label class="control-label col-sm-2" for="gender">Gender:</label>
            <div class="col-sm-10">
                <select id="gender" name="gender">
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                    </select>
            </div>
          </div>
          <div class="form-group ">
            <label class="control-label col-sm-2" for="phone">Phone No.:</label>
            <div class="col-sm-10">
                <input type="tel" id="phone" name="phone" placeholder="Enter your phone number" pattern="[0][5][0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9]" title="Format: 05xxxxxxx" required/>
            </div>
          </div>
          <div class="form-group ">
            <label class="control-label col-sm-2" for="password">Password:</label>
            <div class="col-sm-10">
                <input type="password" name="password" autocomplete="off" id="password" placeholder="Password" required/>
            </div>
          </div>
          
       
          <div class="form-group">
            <div class="col-sm-offset-2 col-sm-10">
              <input type="submit" class="btn btn-secondary"></button>
              <br>
                    <div class="psw" id="hehehe" style="cursor: pointer; padding:25px;"><strong><a href="login.html">Already have an account? Log in here</a></strong></div>
            </div>
          </div>
       
    </form>
</div>
        

</div>


</section>
</main>
    
<!-- ======= Footer ======= -->
<footer id="footer">

    
    <div class="footer-top">
      <div class="container">
        <div class="row">
  
          <div class="col-8  align-items-stretch mb-lg-0 footer-contact">
            <h3>American University of Sharjah<span>.</span></h3>
            <p>
              This website is only for AUS students <br>
             
              <strong>Contact:</strong> carshare@aus.edu<br>
             
            </p>
          </div>
  
          <div class="col-4   align-items-stretch  mb-lg-0 footer-links">
          
            <ul>
              <li><i class="bx bx-chevron-right"></i> <a href="index.html">Home</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="#">Our college</a></li>
           
              <li><i class="bx bx-chevron-right"></i> <a href="#">Terms of service</a></li>
          
            </ul>
          </div>
  
  
         
  
        </div>
      </div>
    </div>
  
   
  </footer><!-- End Footer -->



   
  <script>
    const gender = document.getElementById('gender').value
    console.log(gender)
    const form = document.getElementById('form-group')
    form.addEventListener('submit', registerUser)
    
    async function registerUser(event) {
        event.preventDefault()
        const email = document.getElementById('email').value
        const name = document.getElementById('name').value
        const phone = document.getElementById('phone').value
        const gender = document.getElementById('gender').value
        const password = document.getElementById('password').value
        const userType = document.getElementById('userType').value

        const result = await fetch('/api/register', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                email,
                name,
                phone,
                gender,
                userType,
                password
            })
        }).then((res) => res.json())

        if (result.status === 'ok') {
            // everythign went fine
            alert('Success')
            return window.location.href = "login.html"
            
        } else {
            alert('Email already exists. Please login with it.')
        }
    }
</script>

<div id="preloader"></div>
<a href="#" class="back-to-top"><i class="icofont-simple-up"></i></a>

<!-- Vendor JS Files -->
<script src="assets/vendor/jquery/jquery.min.js"></script>
<script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="assets/vendor/jquery.easing/jquery.easing.min.js"></script>
<script src="assets/vendor/php-email-form/validate.js"></script>
<script src="assets/vendor/waypoints/jquery.waypoints.min.js"></script>
<script src="assets/vendor/counterup/counterup.min.js"></script>
<script src="assets/vendor/owl.carousel/owl.carousel.min.js"></script>
<script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
<script src="assets/vendor/venobox/venobox.min.js"></script>
<script src="assets/vendor/aos/aos.js"></script>

<!-- Template Main JS File -->
<script src="assets/js/main.js"></script>

</html>
